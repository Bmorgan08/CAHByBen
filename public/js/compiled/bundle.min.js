function CreateRoom(){const e=document.getElementById("serverNameInput").value;e?(emit("createRoom",{roomName:e,playerName:localStorage.getItem("playerName")}),localStorage.setItem("roomName",e),console.log("Creating room:",e),setPage("Game")):alert("Please enter a server name.")}function JoinRoom(e){emit("joinRoom",{roomName:e,playerName:localStorage.getItem("playerName")}),localStorage.setItem("roomName",e),console.log("Joining room:",e),setPage("Game")}function GetRooms(){emit("getRooms",{})}let currentPage="NameSelector";function setPage(e){currentPage=e,ReRender(currentPage),console.log("Page set to:",currentPage)}function ReRender(e){switch(e){case"NameSelector":document.body.innerHTML='\n                <h1>Enter Your Name</h1>\n                <input type="text" id="nameInput" placeholder="Your name">\n                <button id="nameSubmit" onclick="SetName()">Submit</button>\n                ';break;case"Lobby":document.body.innerHTML=`\n                <h1>Lobby</h1>\n                <p>Welcome, ${localStorage.getItem("playerName")||"Player"}!</p>\n                <div id="CurrentServers"></div>\n                <button id="CreateServer" onclick="CreateRoom()">Create Server</button>\n                <button id="RefreshServers" onclick="GetRooms()">Refresh Servers</button>\n                <input type="text" id="serverNameInput" placeholder="Server Name">\n                <br>\n                <input type="text" id="nameInput" placeholder="Your name">\n                <button id="nameSubmit" onclick="SetName()">Submit</button>\n                `,GetRooms();break;case"Game":document.body.innerHTML=`\n                <button id="LeaveRoom" onclick="emit('LeaveRoom', {}); setPage('Lobby'); ">Leave Room</button>\n                <h1>Game Room: ${localStorage.getItem("roomName")||"Unknown"}</h1>\n                <div id="gameArea">\n                <div id="MainGameArea" style="border: 2px solid gray; padding: 10px; margin-bottom: 10px;">\n                <div id="blackCard" style="border: 2px solid black; background-color: black; color: white; padding: 10px; margin: 10px 0;">Black Card will appear here</div>\n                <div id="PlayedCardsArea" style="margin-bottom: 10px;"></div>\n                </div>\n                <div id='SubmitDiv'>\n                <button id="PlayCard" onclick="PlayCard()">Play Selected Card</button>\n                </div>\n                <div id="whiteCardsArea"></div>\n                </div>\n                <div id="Names">\n                <li id="PlayersList">Players: </li>\n                </div>\n                \n                `}}function SetName(){const e=document.getElementById("nameInput").value.trim();e?(localStorage.setItem("playerName",e),console.log("Name set to:",e),setPage("Lobby")):alert("Please enter a valid name.")}document.addEventListener("DOMContentLoaded",()=>{ReRender(currentPage),console.log("Initial page rendered:",currentPage)});const socket=io("wss://socket.cahbyben.xyz");function emit(e,t){socket.emit(e,t)}socket.on("AvailableRooms",e=>{document.getElementById("CurrentServers").innerHTML="";for(let t=0;t<e.length;t++){console.log("Room:",e[t]);const a=document.createElement("div");a.id="room",a.innerHTML=`\n            <h3>${e[t].roomName}</h3>\n            <p>Owner: ${e[t].owner}</p>\n            <p>Players: ${e[t].players} / ${e[t].maxPlayers}</p>\n            <button onclick="JoinRoom('${e[t].roomName}')">Join Room</button>\n        `,document.getElementById("CurrentServers").appendChild(a)}}),socket.on("PlayerList",e=>{console.log("Player list updated:",e),document.getElementById("PlayersList").innerHTML="Players: ";for(let t=0;t<e.length;t++){const a=document.createElement("li");a.textContent=e[t],a.classList.add(`${e[t]}Name`),scoreCounter=document.createElement("span"),scoreCounter.id="score",scoreCounter.textContent=" (0)",a.appendChild(scoreCounter),document.getElementById("PlayersList").appendChild(a)}}),socket.on("roomCreated",e=>{e===localStorage.getItem("playerName")&&(console.log("You are the room owner."),button="<button id='StartGame' onclick='emit(\"RequestStartGame\", { room: localStorage.getItem(\"roomName\") });'>Start Game</button>",numPlayer=document.createElement("label"),numPlayer.textContent="Number of players:",input='<input id="maxPlayersInput" type="number" min="4" max="20" value="10" onchange=\'let val = parseInt(this.value); if(isNaN(val) || val < 4) val = 4; if(val > 20) val = 20; this.value = val; emit("setMaxPlayers", { room: localStorage.getItem("roomName") ,maxPlayers: val });\'>',numPlayer.innerHTML+=input,check=document.createElement("label"),check.textContent="Blanks enabled",checkbox="<input type='checkbox' id='blanksEnabled' onchange='emit(\"setBlanksEnabled\", { room: localStorage.getItem(\"roomName\") ,blanksEnabled: this.checked });'>",check.innerHTML+=checkbox,document.getElementById("gameArea").appendChild(check),document.getElementById("gameArea").appendChild(document.createElement("br")),document.getElementById("gameArea").appendChild(numPlayer),document.getElementById("gameArea").appendChild(document.createElement("br")),document.getElementById("gameArea").innerHTML+=button)}),socket.on("newOwner",e=>{console.log("New room owner is:",e),e===localStorage.getItem("playerName")&&(console.log("You are the room owner."),button="<button id='StartGame' onclick='emit(\"RequestStartGame\", { room: localStorage.getItem(\"roomName\") });'>Start Game</button>",numPlayer=document.createElement("label"),numPlayer.textContent="Number of players:",input='<input id="maxPlayersInput" type="number" min="4" max="20" value="10" onchange=\'let val = parseInt(this.value); if(isNaN(val) || val < 4) val = 4; if(val > 20) val = 20; this.value = val; emit("setMaxPlayers", { room: localStorage.getItem("roomName") ,maxPlayers: val });\'>',numPlayer.appendChild(input),check=document.createElement("label"),check.textContent="Blanks enabled",checkbox="<input type='checkbox' id='blanksEnabled' onchange='emit(\"setBlanksEnabled\", { room: localStorage.getItem(\"roomName\") ,blanksEnabled: this.checked });'>",check.innerHTML+=checkbox,document.getElementById("gameArea").appendChild(check),document.getElementById("gameArea").appendChild(document.createElement("br")),document.getElementById("gameArea").appendChild(numPlayer),document.getElementById("gameArea").appendChild(document.createElement("br")),document.getElementById("gameArea").innerHTML+=button)}),socket.on("WhiteCards",e=>{console.log("Received white cards:",e),setWhiteCards(e)}),socket.on("newWhiteCard",e=>{console.log("Received new white card:",e),addWhiteCard(e)}),socket.on("BlackCard",e=>{console.log("Received black card:",e),SetBlackCard(e)}),socket.on("Czar",e=>{console.log("Received czar name:",e),SetCzar(e)}),socket.on("errorMessage",e=>{alert(e),console.error("Error from server:",e)}),socket.on("CardPlayed",e=>{console.log(`Player ${e.player} played a card.`);const t=document.getElementById("PlayedCardsArea");if(e.cards&&e.cards.length>1){const a=document.createElement("div");a.onclick=()=>{selectWinningCard(e.player)},a.classList.add("playedCardContainer"),t.appendChild(a),e.cards.forEach(t=>{const o=document.createElement("div");o.classList.add("playedCard",`${e.player}`),o.textContent=t,e.player===localStorage.getItem("playerName")?(console.log("It's your card, setting text color to black."),o.style.color="black"):(console.log("It's not your card, setting text color to white."),o.style.color="white"),a.appendChild(o)})}else if(e.cards&&1===e.cards.length){const a=document.createElement("div");a.classList.add("playedCard",`${e.player}`),a.textContent=e.cards[0],a.onclick=()=>{selectWinningCard(e.player)},e.player===localStorage.getItem("playerName")?(console.log("It's your card, setting text color to black."),a.style.color="black"):(console.log("It's not your card, setting text color to white."),a.style.color="white"),t.appendChild(a)}}),socket.on("AllCardsPlayed",()=>{console.log("All cards have been played. Czar is choosing the winner."),RevealCards()}),socket.on("RoundWinner",({player:e})=>{document.getElementsByClassName(`${e}`)[0].style.border="2px solid gold",document.getElementsByClassName(`${e}Name`)[0].querySelector("#score").textContent=` (${parseInt(document.getElementsByClassName(`${e}Name`)[0].querySelector("#score").textContent.slice(2))+1})`}),socket.on("GameWinner",({player:e})=>{alert(`Player ${e} has won the game! Returning to lobby.`)}),socket.on("NewRound",()=>{document.getElementById("PlayedCardsArea").innerHTML="",numPlayed=0,cardsPlayed=[],document.querySelectorAll("#whiteCard").forEach(e=>{e.style.border="1px solid black",e.onclick=()=>{SelectCard(e.textContent)}})}),socket.on("BlanksEnabled",()=>{console.log("hiiiiii");document.getElementById("SubmitDiv").innerHTML+="<input type='text' id='BlankTextInput' placeholder='Enter text for Blank card'> ",console.log("added button");document.getElementById("SubmitDiv").innerHTML+="<button id='BlankButton' onclick='SubmitBlank()'>Submit!</button>",console.log(document.getElementById("SubmitDiv").innerHTML),console.log("added input")}),socket.onAny((e,...t)=>{console.log(`Event: ${e}`,t)});let MyWhiteCards=[],numPlayed=0,cardsPlayed=[],currentCzar="";function SubmitBlank(){if(localStorage.getItem("playerName")===currentCzar)return void alert("bitch you the czar you cant play a card rn");let e=document.getElementById("BlankTextInput").value;if(""!==e.trim()){if(numPlayed<numNeeded){if(cardsPlayed.includes(e))return alert("You cannot play the same card twice!"),void(document.getElementById("BlankTextInput").value="");if(numPlayed++,cardsPlayed.push(e),console.log(`Card played (${numPlayed}/${numNeeded}):`,e),numPlayed===numNeeded){emit("PlayCards",{cards:cardsPlayed,room:localStorage.getItem("roomName")}),MyWhiteCards=MyWhiteCards.filter(t=>t!==e);for(let e of document.getElementsByClassName("alreadyPlayedCard"))console.log("Played card:",e),e.remove();numPlayed=0,cardsPlayed=[],document.querySelectorAll("#whiteCard").forEach(e=>{e.style.border="1px solid black",e.onclick=()=>{SelectCard(e.textContent)}})}}document.getElementById("BlankTextInput").value=""}else alert("You need to add text to play a blank dumbass")}function getWhiteCards(){return MyWhiteCards}function setWhiteCards(e){MyWhiteCards=e,console.log("White cards set:",MyWhiteCards.length),document.getElementById("whiteCardsArea").innerHTML="";for(let e=0;e<MyWhiteCards.length;e++)console.log("adding card:",MyWhiteCards[e].text),document.getElementById("whiteCardsArea").innerHTML+="<div id='whiteCard' onclick='SelectCard(`"+MyWhiteCards[e].text+"`)'>"+MyWhiteCards[e].text+"</div>";return MyWhiteCards}function SelectCard(e){document.querySelectorAll("#whiteCard").forEach(t=>{t.textContent===e?(t.style.border="2px solid blue",t.classList.toggle("selectedCard")):(t.style.border="1px solid black",t.classList.remove("selectedCard"))}),console.log("Selected card:",e)}function clearWhiteCards(){return MyWhiteCards=[],console.log("White cards cleared."),MyWhiteCards}function addWhiteCard(e){return MyWhiteCards.push(e),console.log(MyWhiteCards),document.getElementById("whiteCardsArea").innerHTML+="<div id='whiteCard' onclick='SelectCard(`"+e.text+"`)'>"+e.text+"</div>",console.log("White card added. Total now:",MyWhiteCards.length),MyWhiteCards}function PlayCard(){let e=document.querySelector(".selectedCard");if(e){if(currentCzar===localStorage.getItem("playerName"))return void emit("SelectWinningCard",{player:e.classList[1],room:localStorage.getItem("roomName")});{if(e.textContent.includes("___")){let t=prompt("This card has a blank. Please enter your custom text:");if(!t)return void console.log("No input provided for blank card.");e.textContent=e.textContent.replace("___",t)}let t=e.textContent;if(numPlayed<numNeeded){if(numPlayed++,cardsPlayed.includes(t))return alert("you cannot submit the same card twice"),void numPlayed--;if(cardsPlayed.push(t),e.style.border="2px solid green",e.classList.remove("selectedCard"),e.classList.add("alreadyPlayedCard"),e.onclick=null,console.log(`Card played (${numPlayed}/${numNeeded}):`,t),numPlayed===numNeeded){emit("PlayCards",{cards:cardsPlayed,room:localStorage.getItem("roomName")}),MyWhiteCards=MyWhiteCards.filter(e=>e!==t);for(let e of document.getElementsByClassName("alreadyPlayedCard"))console.log("Played card:",e),e.remove();numPlayed=0,cardsPlayed=[],document.querySelectorAll("#whiteCard").forEach(e=>{e.style.border="1px solid black",e.onclick=()=>{SelectCard(e.textContent)}})}}}e.remove(),MyWhiteCards=MyWhiteCards.filter(t=>t!==e.cardText)}else console.log("No card selected to play.")}function SetBlackCard(e){let t=document.getElementById("blackCard");t||(t=document.createElement("div"),t.id="blackCard",t.style.border="2px solid black",t.style.backgroundColor="black",t.style.color="white",t.style.padding="10px",t.style.margin="10px 0",document.getElementById("gameArea").prepend(t)),t.textContent=e.text,t.innerHTML+=`<br><em>Pick ${e.pick}</em>`,console.log("Black card set:",e),numNeeded=e.pick}function SetCzar(e){currentCzar=e,e===localStorage.getItem("playerName")?document.getElementById("whiteCardsArea").innerHTML+='<div id="CzarBlock" >You are the Czar this round. You cannot play a card.</div>':(console.log("Not the Czar, removing CzarBlock if it exists."),console.log("new whiteCardsArea HTML:"),document.getElementById("CzarBlock").remove())}function RevealCards(){const e=document.getElementsByClassName("playedCard");for(let t of e)t.style.color="black"}function selectWinningCard(e){if(currentCzar===localStorage.getItem("playerName")){preselected=document.getElementsByClassName("selectedCard");for(let e of preselected)e.classList.remove("selectedCard");elements=document.getElementsByClassName(e);for(let e of elements)e.style.border="2px solid blue",e.classList.add("selectedCard");console.log("Winning card selected for player:",e)}else console.log("Only the Czar can select the winning card.")}
//# sourceMappingURL=bundle.min.js.map